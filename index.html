<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bilingual Speech Calendar</title>
</head>

<body>
  <div id="logo-and-text">
    <span id='Easy Bilignual Speech LLC.'></span>
    <img src="logo.png" width="75" height="75">
    <span class="restricted"><i>Logged in</i></span>
  </div>
  <!--Calendar import! check calendar.js-->
  <div id="app"></div>

  <!--Under calendar above footer-->
  <div id="calendarColorLegend"
    style="border: 1px solid black; display: inline-block; margin-top:20px; margin-bottom:75px;">
    <div class="legend-item">
      <div class="square" style="background-color: #89cc04;"></div>
      <span>Available</span>
    </div>
    <div class="legend-item">
      <div class="square" style="background-color: #cc1804;"></div>
      <span>Unavailable</span>
    </div>
    <div class="legend-item">
      <div class="square" style="background-color: #ccab04;"></div>
      <span>Evaluation Only</span>
    </div>
  </div>
  <div class="notice">
    <p>Click a day to view availability in detail</p>
  </div>


  <footer class="calendar-footer">
    <button class="link" id="about-modal-button">About</button>
    <button class="link" id="login-modal-button">For Admin</button>
  </footer>




  <!-- About modal -->
  <div class="modal" id="about-modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close-text">Close</span>
        <span class="close-button close-about-modal">X</span>
      </div>
      <div class="modal-body">
        <p>This website is a way to view the calendar of Easy Bilingual Speech. This page does <strong>not</strong> use cookies and does <strong>not</strong> collect any data.
        </p>
      </div>
    </div>
  </div>

  <!-- Login modal -->
  <div class="modal" id="login-modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close-text">Close</span>
        <span class="close-button close-login-modal">X</span>
      </div>
      <div class="modal-body">
        <form id="login-form">
          <label for="email">Email:</label>
          <input type="text" id="email" name="email"><br><br>
          <label for="password">Password:</label>
          <input type="password" id="password" name="password"><br><br>
          <input type="submit" id="loginSubmit" value="Enter">
          <style> </style>
        </form>
      </div>
    </div>
  </div>
  <!--Daily schedule modal-->
  <div class="modal" id="daily-schedule-modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close-text">Close</span>
        <span class="close-button close-daily-schedule-modal">X</span>
      </div>
      <div class="modal-body">
        <div class="schedule-header">
          <p>[Day], [Month], [Year]</p> <!--Placeholder values-->
          <p>[Availability status]</p>
        </div>
        <div class="add-appointment restricted" style="display: none;">
          <button id="add-appt">Add appointment</button>
        </div>

        <div class="time-grid" id="time-grid">
          <!--Implemented thru javascript -->
        </div>
      </div>
    </div>
  </div>
  <!--Adding appointment modal-->
  <div class="modal" id="add-appt-modal" style="display:none;">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close-text">Close</span>
        <span class="close-button" id="close-add-appt-modal">X</span>
      </div>
      <div class="modal-body">
        <form id="add-appt-form">
          <label for="availability">Availability:</label>
          <select id="availability" name="availability">
            <option value="available">Available</option>
            <option value="unavailable">Unavailable</option>
            <option value="evaluation only">Evaluation Only</option>
          </select>

          <label for="timeStart">Start Time:</label>
          <input type="time" id="timeStart" name="timeStart" min="08:00" max="17:00" step="900" required>

          <label for="timeEnd">End Time:</label>
          <input type="time" id="timeEnd" name="timeEnd" min="08:00" max="17:00" step="900" required>

          <label for="notes">Notes:</label>
          <textarea id="notes" name="notes" maxlength="200"></textarea>

          <button type="submit">Add Appointment</button>
        </form>
        <script>
          document.getElementById('add-appt-form').onsubmit = function (event) {
            const timeStart = document.getElementById('timeStart').value;
            const timeEnd = document.getElementById('timeEnd').value;
            if (timeEnd <= timeStart) {
              event.preventDefault(); //Prevent form submission
              alert('Error: End time must be after start time!');
              return; // Exit the function
            }
          };
        </script>
      </div>
    </div>
  </div>
  <!--Edit modal (basically the same as add modal)-->
  <div class="modal" id="edit-appt-modal" style="display:none;">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close-text">Close</span>
        <span class="close-button" id="close-edit-appt-modal">X</span>
      </div>
      <div class="modal-body">
        <form id="edit-appt-form">
          <label for="edit-availability">Availability:</label>
          <select id="edit-availability" name="availability">
            <option value="available">Available</option>
            <option value="unavailable">Unavailable</option>
            <option value="evaluation only">Evaluation Only</option>
          </select>

          <label for="edit-timeStart">Start Time:</label>
          <input type="time" id="edit-timeStart" name="timeStart" min="08:00" max="17:00" step="900" required>

          <label for="edit-timeEnd">End Time:</label>
          <input type="time" id="edit-timeEnd" name="timeEnd" min="08:00" max="17:00" step="900" required>

          <label for="edit-notes">Notes:</label>
          <textarea id="edit-notes" name="notes" maxlength="200"></textarea>

          <button type="submit">Update Appointment</button>
        </form>
        <script>
          document.getElementById('edit-appt-form').onsubmit = function (event) {
            const timeStart = document.getElementById('edit-timeStart').value;
            const timeEnd = document.getElementById('edit-timeEnd').value;
            if (timeEnd <= timeStart) {
              event.preventDefault();
              alert('Error: End time must be after start time!');
              return; 
            }
          };
        </script>
      </div>
    </div>
  </div>
<div class="modal" id="notes-modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close-text">Close</span>
      <span class="close-button close-notes-modal">X</span>
    </div>
    <div class="modal-body">
      <p id="notes-content">Your notes will appear here...</p>
    </div>
  </div>
</div>



</body>

</html>